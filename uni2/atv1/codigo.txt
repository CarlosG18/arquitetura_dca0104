# aluno: Carlos Gabriel Medeiros da Silva
# matricula: 20200074567

.data
    # vetor v - sinais obtidos entre 0 a 9 
    v: .word 9, 5, 7, 5, 3, 4, 0, 2, 6, 4, 2, 5, 4, 1, 2, 1, 6, 2, 2, 3, 6, 3, 0, 0, 7, 8, 3, 4, 5, 4, 0, 5, 2, 9, 8, 7
    # definindo o tamanho maximo de intensidade
    LMax: .word 9
    # definido o tamanho de elementos do vetor
    TAM: .word 36
    # definindo o vetor do histograma H, alocado com 9 espaços de 4 bytes cada = 36
    H: .space 36

.text
    main:

    # inicializando o vetor H com o valor 0 para cada indicie
    
    la $s0, H # obtendo o endereço base do vetor H e colocando no registrador temporario t0
    
    li $t0, 0 # alocando o valor 0 no registrador temporario t1
    
    la $t1, LMax # obtendo o valor de LMax e alocando no registrador temporario t2 

    loop:
        sw $t0, 0($s0) # armazena o valor zero no endereço atual do vetor H
        addiu $s0, $s0, 4 # incremento de 4 bytes no endereço de s0, ou seja, obtendo o endereço do proximo valor de H
        addiu $t1, $t1, -1 # decrementa em 1 o valor de LMax
        bnez $t1, loop # verifica se o valor guardado em t2 é diferente de zero, se o valor for false ele irá fazer um salto para o loop, caso contrario ele continuará o fluxo do codigo
    

    # realizando os devidos incrementos no vetor do histograma H
    la $s1, v # atribuindo o endereço base de v para o registrador S0
    la $s2, LMax # obtendo o valor de LMax e alocando no registrador temporario t3
    la $s3, TAM # obtendo o valor de TAM e alocando no registrador temporario t4

    #variaveis auxiliares
    # $t0 - variavel para armazenar os deslocamentos
    
    li $t2, 4 


        
    loop:
        lw $t1, 0($s1) # atribui a t1 o valor de v
        mult $t2, $t1 # faz a multiplicão de t2 e t1 para saber quantos bytes percorrer
        mflo $t0 # move o resultado da multiplicação para t0
        add $t3, $s1, $t0 # soma a
        lw $t4, 0($t3)
        addiu $t4, $t4, 1
        sw 


        addiu $s1, $s1, 4 


        pegar o valor de v[$t4]
        pegar o valor de H[v[$t4]] e incrementar 1